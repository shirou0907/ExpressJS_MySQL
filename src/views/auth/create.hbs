<div>
    <h2>Đăng ký</h2>
    <hr>
    <form method="POST" action="">
      {{#if error}}
      <div class="alert alert-danger" role="alert">
        {{error}}
      </div>
      {{/if}}
      <div class="mt-3 h6">
        <label class="form-label">Account</label>
        <input name="account" type="text" class="form-control" value="" required>
      </div>
      <div class="mt-3 h6">
        <label class="form-label">Password</label>
        <input name="password" type="password" class="form-control" value="" required>
      </div>
      <div class="mt-3 h6">
        <label class="form-label">Full Name</label>
        <input name="full_name" type="text" class="form-control" value="{{full_name}}" required>
      </div>
      <div class="mt-3 h6">
        <label class="form-label">Image Link</label>
        <input id="img_url" name="img_url" type="url" class="form-control" value="/img/avatar.jpg" required>
      </div>
      <h6 id="err" style="color: red">Trường này phải là URL!</h6>
      <div class="mt-3 h6">
        <label class="form-label">Date of Birth</label>
        <input name="date_of_birth" type="date" class="form-control" value="{{date_of_birth}}" required>
      </div>
      <div class="mt-3 h6">
        <label class="form-label">Phone Number</label>
        <input name="phone_number" type="number" class="form-control" value="{{phone_number}}" required>
      </div>
      <div class="mt-3 h6">
        <input name="position" type="text" class="form-control" value="User" style="display:none"> 
      </div>
      <button type="submit" class="btn btn-primary  mt-4">Submit</button>
    </form>
</div>


<script>
  function isUrlValid(userInput) {
    var res = userInput.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g);
    if(res == null)
        return false;
    else
        return true;
  }

  var err = document.getElementById("err")
  err.style.display = "none";
  var checkInput = document.getElementById("img_url");
  checkInput.onchange = function() {
    if(!isUrlValid(checkInput.value)) {
    checkInput.value = "";
      err.style.display = "block";
    }
    else {
      err.style.display = "none";
    }
  }

</script>