<div>
    <h3>Thêm mới sản phẩm</h3>
    <hr>

    {{#if error}}
    <div class="alert alert-danger manager-item" role="alert">{{error}}</div>
    {{/if}}

    <form method="POST" action="">
      <div class="mt-3 h6">
        <label class="form-label">Name</label>
        <input name="name" type="text" class="form-control" value="" required>
      </div>
      <div class="mt-3 h6">
        <label class="form-label">Image Link</label>
        <input name="img_url" type="url" id="img_url" class="form-control" value="" required>
      </div>
      <h6 id="err" style="color: red">Trường này phải là URL!</h6>
      <div class="mt-3 h6">
        <label class="form-label">Brand</label>
        <select class="form-select" aria-label="Default select example" name="brand" required>
          <option selected></option>
          <option value="Apple">Apple</option>
          <option value="Asus">Asus</option>
          <option value="Huawei">Huawei</option>
          <option value="LG">LG</option>
          <option value="Nokia">Nokia</option>
          <option value="Oppo">Oppo</option>
          <option value="Samsung">Samsung</option>
          <option value="Sony">Sony</option>
          <option value="Xiaomi">Xiaomi</option>
      </select>
      </div>
      <div class="mt-3 h6">
        <label class="form-label">Description</label>
        <textarea name="description" type="text" class="form-control" rows="8" required></textarea>
      </div>
      <div class="mt-3 h6">
        <label class="form-label">Price</label>
        <input name="price" type="number" class="form-control" value="" required>
      </div>
      <div class="mt-3 h6">
        <label class="form-label">Amount</label>
        <input name="amount" type="number" class="form-control" value="" required>
      </div>
      <div class="mt-3 h6">
        <label class="form-label">Status</label>
        <select class="form-select" aria-label="Default select example" name="status" required>
          <option selected></option>
          <option value="1">Có hàng</option>
          <option value="2">Hàng sắp về</option>
          <option value="3">Liên hệ</option>
        </select>
      </div>
      <button type="submit" class="btn btn-primary  mt-4">Submit</button>
    </form>
    
</div>

<script>
  function isUrlValid(userInput) {
    var res = userInput.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g);
    if(res == null)
        return false;
    else
        return true;
  }

  var err = document.getElementById("err")
  err.style.display = "none";
  var checkInput = document.getElementById("img_url");
  checkInput.onchange = function() {
    if(!isUrlValid(checkInput.value)) {
    checkInput.value = "";
      err.style.display = "block";
    }
    else {
      err.style.display = "none";
    }
  }

</script>


